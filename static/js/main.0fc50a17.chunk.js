(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,n,a){e.exports=a(44)},31:function(e,n,a){},44:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(5),o=a.n(l),c=(a(31),a(19)),i=a(20),s=a(24),u=a(21),d=a(25),m=a(8),f="ADD_RECIPE",p="REMOVE_FROM_CALENDAR";function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"!==typeof e?"":e[0].toUpperCase()+e.slice(1)}var v=a(14),g=a(13),y=a.n(g),E=a(23),b=a.n(E),O="a7328358",k="320a1a984de734a4415b9bc7988fa75e";function w(e){var n=e.food,a=e.onSelect;return 0===n.length?r.a.createElement("p",null,"Your search has 0 results."):r.a.createElement("ul",{className:"food-list"},n.map(function(e){return r.a.createElement("li",{onClick:function(){return a(e)},key:e.label},r.a.createElement("h3",null,(n=e.label).length>16?n.slice(0,16)+"...":n),r.a.createElement("img",{src:e.image,alt:e.label}),r.a.createElement("div",null,Math.floor(e.calories)," Calories"),r.a.createElement("div",null,e.source));var n}))}function N(e){var n=e.list;return r.a.createElement("div",{className:"ingredients-list"},r.a.createElement("h3",{className:"subheader"},"Your Shopping List"),r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{key:e},e)})))}var M=function(e){function n(){var e,a;Object(c.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={foodModalOpen:!1,meal:null,day:null,food:null,ingredientsModalOpen:!1,loadingFood:!1},a.openFoodModal=function(e){var n=e.meal,t=e.day;a.setState(function(){return{foodModalOpen:!0,meal:n,day:t}})},a.closeFoodModal=function(){a.setState(function(){return{foodModalOpen:!1,meal:null,day:null,food:null}})},a.searchFood=function(e){a.input.value&&(e.preventDefault(),a.setState(function(){return{loadingFood:!0}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.trim(),fetch("https://api.edamam.com/search?q=".concat(e,"&app_id=").concat(O,"&app_key=").concat(k)).then(function(e){return e.json()}).then(function(e){return e.hits.map(function(e){return e.recipe})})}(a.input.value).then(function(e){return a.setState(function(){return{food:e,loadingFood:!1}})}))},a.openIngredientsModal=function(){return a.setState(function(){return{ingredientsModalOpen:!0}})},a.closeIngredientsModal=function(){return a.setState(function(){return{ingredientsModalOpen:!1}})},a.generateShoppingList=function(){return a.props.calendar.reduce(function(e,n){var a=n.meals,t=a.breakfast,r=a.lunch,l=a.dinner;return t&&e.push(t),r&&e.push(r),l&&e.push(l),e},[]).reduce(function(e,n){var a=n.ingredientLines;return e.concat(a)},[])},a}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.state,a=n.foodModalOpen,t=n.loadingFood,l=n.food,o=n.ingredientsModalOpen,c=this.props,i=c.calendar,s=c.selectRecipe,u=c.remove,d=["breakfast","lunch","dinner"];return console.log(i),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav"},r.a.createElement("h1",{className:"header"},"UdaciMeals"),r.a.createElement("button",{className:"shopping-list",onClick:this.openIngredientsModal},"Shopping List")),r.a.createElement("ul",{className:"meal-types"},d.map(function(e){return r.a.createElement("li",{key:e,className:"subheader"},h(e))})),r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"days"},i.map(function(e){var n=e.day;return r.a.createElement("h3",{key:n,className:"subheader"},h(n))})),r.a.createElement("div",{className:"icon-grid"},i.map(function(n){var a=n.day,t=n.meals;return r.a.createElement("ul",{key:a},d.map(function(n){return r.a.createElement("li",{key:n,className:"meal"},t[n]?r.a.createElement("div",{className:"food-item"},r.a.createElement("img",{src:t[n].image,alt:t[n].label}),r.a.createElement("button",{onClick:function(){return u({meal:n,day:a})}},"Clear")):r.a.createElement("button",{onClick:function(){return e.openFoodModal({meal:n,day:a})},className:"icon-btn"},r.a.createElement(v.b,{size:30})))}))}))),r.a.createElement(y.a,{className:"modal",overlayClassName:"overlay",isOpen:a,onRequestClose:this.closeFoodModal,contentLabel:"Modal"},r.a.createElement("div",null,!0===t?r.a.createElement(b.a,{delay:200,type:"spin",color:"#222",className:"loading"}):r.a.createElement("div",{className:"search-container"},r.a.createElement("h3",{className:"subheader"},"Find a meal for ",h(this.state.day)," ",this.state.meal,"."),r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"food-input",type:"text",placeholder:"Search Foods",ref:function(n){return e.input=n}}),r.a.createElement("button",{className:"icon-btn",onClick:this.searchFood},r.a.createElement(v.a,{size:30}))),null!==l&&r.a.createElement(w,{food:l,onSelect:function(n){s({recipe:n,day:e.state.day,meal:e.state.meal}),e.closeFoodModal()}})))),r.a.createElement(y.a,{className:"modal",overlayClassName:"overlay",isOpen:o,onRequestClose:this.closeIngredientsModal,contentLabel:"Modal"},o&&r.a.createElement(N,{list:this.generateShoppingList()})))}}]),n}(t.Component);var j=Object(m.b)(function(e){var n=e.food,a=e.calendar;return{calendar:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map(function(e){return{day:e,meals:Object.keys(a[e]).reduce(function(t,r){return t[r]=a[e][r]?n[a[e][r]]:null,t},{})}})}},function(e){return{selectRecipe:function(n){return e(function(e){var n=e.day,a=e.recipe,t=e.meal;return{type:f,recipe:a,day:n,meal:t}}(n))},remove:function(n){return e(function(e){var n=e.day,a=e.meal;return{type:p,day:n,meal:a}}(n))}}})(M),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var F=a(2),_=a(3),L=a(4);var R={sunday:{breakfast:null,lunch:null,dinner:null},monday:{breakfast:null,lunch:null,dinner:null},tuesday:{breakfast:null,lunch:null,dinner:null},wednesday:{breakfast:null,lunch:null,dinner:null},thursday:{breakfast:null,lunch:null,dinner:null},friday:{breakfast:null,lunch:null,dinner:null},saturday:{breakfast:null,lunch:null,dinner:null}};var I=Object(F.c)({food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n.recipe;switch(n.type){case f:return Object(L.a)({},e,Object(_.a)({},a.label,a));default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0,a=n.day,t=n.recipe,r=n.meal;switch(n.type){case f:return Object(L.a)({},e,Object(_.a)({},a,Object(L.a)({},e[a],Object(_.a)({},r,t.label))));case p:return Object(L.a)({},e,Object(_.a)({},a,Object(L.a)({},e[a],Object(_.a)({},r,null))));default:return e}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,U=Object(F.e)(I,D(Object(F.a)(function(e){return function(n){return function(a){console.group(a.type),console.info("dispatching",a);var t=n(a);return console.log("next state",e.getState()),console.groupEnd(a.type),t}}})));o.a.render(r.a.createElement(m.a,{store:U},r.a.createElement(j,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/koi20555/Udacimeals",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/koi20555/Udacimeals","/service-worker.js");C?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):S(e)})}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.0fc50a17.chunk.js.map